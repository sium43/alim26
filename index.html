<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Alim 26 Topper's Roadmap Pro Batch (BOM)</title>
  <style>
    /* =========================
    CSS STYLES
    ========================= */
    :root{
      --bg:#0d1117;
      --card:rgba(255,255,255,0.06);
      --card2:rgba(255,255,255,0.08);
      --text:#e6edf3;
      --muted:#9ba3af;
      --accent1:#22d3ee;
      --accent2:#10b981;
      --border:#273043;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    a{color:inherit;text-decoration:none}
    .container{max-width:1100px;margin:0 auto;padding:20px}
    header{
      position:sticky;top:0;z-index:50;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(13,17,23,0.85), rgba(13,17,23,0.6));
      border-bottom:1px solid var(--border);
    }
    .nav{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:14px 20px}
    .brand{font-weight:800;letter-spacing:.3px}
    .tag{opacity:.85;font-weight:600;background:linear-gradient(90deg,var(--accent1),var(--accent2));-webkit-background-clip:text;background-clip:text;color:transparent}
    .searchbar{display:flex;gap:10px;align-items:center;width:100%;max-width:520px}
    .searchbar input, select{
      width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:var(--card2);color:var(--text);outline:none;
    }
    .grid{
      display:grid;gap:16px;
      grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
      margin-top:18px;
    }
    .card{
      background:var(--card);border:1px solid var(--border);
      border-radius:16px;padding:16px;backdrop-filter: blur(12px);
      transition:transform .2s, border-color .2s;
    }
    .card:hover{transform:translateY(-4px);border-color:#2b5cff}
    .subject{font-weight:700;margin-bottom:8px;color:#7ecbff}
    .time{color:var(--muted);font-size:.95rem;margin-bottom:12px}
    .btn{display:inline-block;padding:10px 14px;border-radius:12px;border:1px solid transparent;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#001015;font-weight:700}
    .btn:focus,.btn:hover{filter:brightness(1.05)}
    .subj-list{display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));margin-top:18px}
    .pill{
      background:var(--card);border:1px solid var(--border);border-radius:999px;padding:12px 14px;display:flex;justify-content:space-between;align-items:center;gap:10px
    }
    .pill .go{padding:8px 12px;border-radius:999px;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#001015;font-weight:700}
    footer{opacity:.7;margin:24px 0;text-align:center;font-size:.9rem}
    .controls{display:flex;gap:10px;align-items:center;margin-top:10px}
    .back-btn {display: inline-block; margin-bottom: 20px; padding: 8px 16px; background: var(--card); border-radius: 8px;}
  </style>
</head>
<body>
  <!-- ржорзЗржЗржи ржЗржиржбрзЗржХрзНрж╕ ржкрзГрж╖рзНржарж╛ -->
  <div id="main-page">
    <header>
      <nav class="nav container">
        <div class="brand">Alim 26 <span class="tag">Topper's Roadmap Pro (BOM)</span></div>
        <div class="searchbar">
          <input id="search-subjects" type="search" placeholder="ЁЯФН рж╕рж╛ржмржЬрзЗржХрзНржЯ ржЦрзБржБржЬрзБржи...">
        </div>
      </nav>
    </header>

    <main class="container">
      <h2>рж╕рж╛ржмржЬрзЗржХрзНржЯ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</h2>
      <div class="subj-list">
        <a class="pill subject-link" href="#" data-name="ржХрзБрж░ржЖржи ржорж╛ржЬрзАржж"><span>ЁЯУШ ржХрзБрж░ржЖржи ржорж╛ржЬрзАржж</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="рж╣рж╛ржжрзАрж╕ ржУ ржЙрж╕рзВрж▓рзБрж▓ рж╣рж╛ржжрзАрж╕"><span>ЁЯУШ рж╣рж╛ржжрзАрж╕ ржУ ржЙрж╕рзВрж▓рзБрж▓ рж╣рж╛ржжрзАрж╕</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЖрж▓ ржлрж┐ржХрж╣ ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ ржЖрж▓ ржлрж┐ржХрж╣ ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЖрж▓ ржлрж┐ржХрж╣ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ ржЖрж▓ ржлрж┐ржХрж╣ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЖрж░ржмрж┐ ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ ржЖрж░ржмрж┐ ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЖрж░ржмрж┐ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ ржЖрж░ржмрж┐ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЖрж░ржмрж┐ рж╕рж╛рж╣рж┐рждрзНржп (ржмрж┐ржЬрзНржЮрж╛ржи ржУ ржорзБржЬрж╛ржмрзНржмрж┐ржж ржорж╛рж╣рж┐рж░ ржмрж┐ржнрж╛ржЧ)"><span>ЁЯУШ ржЖрж░ржмрж┐ рж╕рж╛рж╣рж┐рждрзНржп (ржмрж┐ржЬрзНржЮрж╛ржи ржУ ржорзБржЬрж╛ржмрзНржмрж┐ржж ржорж╛рж╣рж┐рж░ ржмрж┐ржнрж╛ржЧ)</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржмрж╛рж▓рж╛ржЧрж╛ржд ржУ ржорж╛ржирждрж┐ржХ"><span>ЁЯУШ ржмрж╛рж▓рж╛ржЧрж╛ржд ржУ ржорж╛ржирждрж┐ржХ</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржмрж╛ржВрж▓рж╛ ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ ржмрж╛ржВрж▓рж╛ ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржмрж╛ржВрж▓рж╛ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ ржмрж╛ржВрж▓рж╛ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЗржВрж░рзЗржЬрж┐ ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ ржЗржВрж░рзЗржЬрж┐ ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЗржВрж░рзЗржЬрж┐ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ ржЗржВрж░рзЗржЬрж┐ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЗрж╕рж▓рж╛ржорзЗрж░ ржЗрждрж┐рж╣рж╛рж╕"><span>ЁЯУШ ржЗрж╕рж▓рж╛ржорзЗрж░ ржЗрждрж┐рж╣рж╛рж╕</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="рждржерзНржп ржУ ржпрзЛржЧрж╛ржпрзЛржЧ ржкрзНрж░ржпрзБржХрзНрждрж┐"><span>ЁЯУШ рждржерзНржп ржУ ржпрзЛржЧрж╛ржпрзЛржЧ ржкрзНрж░ржпрзБржХрзНрждрж┐</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржкржжрж╛рж░рзНржержмрж┐ржЬрзНржЮрж╛ржи ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ ржкржжрж╛рж░рзНржержмрж┐ржЬрзНржЮрж╛ржи ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржкржжрж╛рж░рзНржержмрж┐ржЬрзНржЮрж╛ржи ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ ржкржжрж╛рж░рзНржержмрж┐ржЬрзНржЮрж╛ржи ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="рж░рж╕рж╛рзЯржи ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ рж░рж╕рж╛рзЯржи ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="рж░рж╕рж╛рзЯржи ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ рж░рж╕рж╛рзЯржи ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЬрзАржмржмрж┐ржЬрзНржЮрж╛ржи ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ ржЬрзАржмржмрж┐ржЬрзНржЮрж╛ржи ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЬрзАржмржмрж┐ржЬрзНржЮрж╛ржи ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ ржЬрзАржмржмрж┐ржЬрзНржЮрж╛ржи ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЕрж░рзНржержирзАрждрж┐ ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ ржЕрж░рзНржержирзАрждрж┐ ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЕрж░рзНржержирзАрждрж┐ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ ржЕрж░рзНржержирзАрждрж┐ ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржкрзМрж░ржирзАрждрж┐ ржУ рж╕рзБрж╢рж╛рж╕ржи ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ ржкрзМрж░ржирзАрждрж┐ ржУ рж╕рзБрж╢рж╛рж╕ржи ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржкрзМрж░ржирзАрждрж┐ ржУ рж╕рзБрж╢рж╛рж╕ржи ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ ржкрзМрж░ржирзАрждрж┐ ржУ рж╕рзБрж╢рж╛рж╕ржи ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЙржЪрзНржЪрждрж░ ржЧржгрж┐ржд ржкрзНрж░ржержо ржкрждрзНрж░"><span>ЁЯУШ ржЙржЪрзНржЪрждрж░ ржЧржгрж┐ржд ржкрзНрж░ржержо ржкрждрзНрж░</span><span class="go">Open</span></a>
        <a class="pill subject-link" href="#" data-name="ржЙржЪрзНржЪрждрж░ ржЧржгрж┐ржд ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░"><span>ЁЯУШ ржЙржЪрзНржЪрждрж░ ржЧржгрж┐ржд ржжрзНржмрж┐рждрзАрзЯ ржкрждрзНрж░</span><span class="go">Open</span></a>
      </div>
    </main>

    <footer>┬й Alim 26 Topper's Roadmap Pro Batch (BOM)</footer>
  </div>

  <!-- рж╕рж╛ржмржЬрзЗржХрзНржЯ ржкрзГрж╖рзНржарж╛ (ржкрзНрж░ржержорзЗ рж▓рзБржХрж╛ржирзЛ) -->
  <div id="subject-page" style="display: none;">
    <header>
      <nav class="nav container">
        <a class="brand back-button" href="#">тЖР All Subjects</a>
        <div class="controls">
          <input id="search" type="search" placeholder="ЁЯФН рж╕рж╛рж░рзНржЪ...">
          <select id="sort">
            <option value="desc">Newest</option>
            <option value="asc">Oldest</option>
          </select>
        </div>
      </nav>
    </header>
    <main class="container">
      <h2 id="subject-title">ЁЯУШ рж╕рж╛ржмржЬрзЗржХрзНржЯ</h2>
      <div id="classGrid" class="grid"></div>
    </main>
    <footer>┬й Alim 26 Topper's Roadmap Pro Batch (BOM)</footer>
  </div>

  <script>
    // =========================
    // JavaScript ржХрзЛржб
    // =========================
    
    // ржПржЦрж╛ржирзЗ рждрзЛржорж╛рж░ Google Apps Script Web App URL ржмрж╕рж╛ржУ:
    const API_URL = https://script.google.com/macros/s/AKfycbz191F6_VJzTsSnvRqh6_bPmuTjNH28Cas-dlENohVxJH8GOhEXtV0EOJ0Cw3y4ZFxghw/exec
    
    // DOM рж╣рзЗрж▓рзНржкрж╛рж░ ржлрж╛ржВрж╢ржи
    function $(sel, root=document){ return root.querySelector(sel); }
    function $all(sel, root=document){ return Array.from(root.querySelectorAll(sel)); }

    // ржкрзЗржЬ рж╕рзНржЯрзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ
    let currentSubject = null;
    const mainPage = $('#main-page');
    const subjectPage = $('#subject-page');

    // ржбрзЗржЯрж╛ ржлрзЗржЪ ржХрж░рж╛
    async function fetchData(){
      if(!API_URL || API_URL === https://script.google.com/macros/s/AKfycbz191F6_VJzTsSnvRqh6_bPmuTjNH28Cas-dlENohVxJH8GOhEXtV0EOJ0Cw3y4ZFxghw/exec){
        console.warn("Set API_URL in assets/config.js");
        alert("ржжржпрж╝рж╛ ржХрж░рзЗ Google Apps Script URL ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рзБржиред");
        return [];
      }
      try {
        const res = await fetch(API_URL);
        const json = await res.json();
        return json;
      } catch (error) {
        console.error("ржбрзЗржЯрж╛ рж▓рзЛржб ржХрж░рждрзЗ рж╕ржорж╕рзНржпрж╛:", error);
        alert("ржбрзЗржЯрж╛ рж▓рзЛржб ржХрж░рждрзЗ рж╕ржорж╕рзНржпрж╛ рж╣ржЪрзНржЫрзЗред ржжржпрж╝рж╛ ржХрж░рзЗ ржкрж░рзЗ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред");
        return [];
      }
    }

    // ржбрзЗржЯрж╛ ржирж░ржорж╛рж▓рж╛ржЗржЬ ржХрж░рж╛
    function normalizeRow(row){
      return {
        link: row['рж▓рж┐ржВржХ'] ?? row['Link'] ?? row['link'] ?? '',
        subject: row['рж╕рж╛ржмржЬрзЗржХрзНржЯ ржирзЗржо'] ?? row['Subject Name'] ?? row['subject'] ?? '',
        time: row['рж╕ржоржпрж╝'] ?? row['Time'] ?? row['time'] ?? ''
      };
    }

    // ржХрж╛рж░рзНржб рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛
    function renderCards(rows, root){
      root.innerHTML = '';
      if (rows.length === 0) {
        root.innerHTML = '<div class="card"><div class="subject">ржХрзЛржи ржХрзНрж▓рж╛рж╕ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐</div><div class="time">ржжржпрж╝рж╛ ржХрж░рзЗ ржкрж░рзЗ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи</div></div>';
        return;
      }
      
      rows.forEach(r => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="subject">${r.subject || 'Unknown Subject'}</div>
          <div class="time">тП░ ${r.time || ''}</div>
          <a class="btn" target="_blank" rel="noopener" href="${r.link || '#'}">Watch Now</a>
        `;
        root.appendChild(card);
      });
    }

    // рж╕ржоржпрж╝ ржЕржирзБржпрж╛ржпрж╝рзА рж╕рж╛ржЬрж╛ржирзЛ
    function sortByTime(rows, order='desc'){
      return rows.slice().sort((a,b)=>{
        const ta = Date.parse(a.time) || 0;
        const tb = Date.parse(b.time) || 0;
        return order === 'asc' ? (ta - tb) : (tb - ta);
      });
    }

    // рж╕рж╛ржмржЬрзЗржХрзНржЯ ржкрзГрж╖рзНржарж╛ ржжрзЗржЦрж╛ржирзЛ
    function showSubjectPage(subject) {
      currentSubject = subject;
      $('#subject-title').textContent = 'ЁЯУШ ' + subject;
      mainPage.style.display = 'none';
      subjectPage.style.display = 'block';
      loadSubjectData(subject);
    }

    // ржорзЗржЗржи ржкрзГрж╖рзНржарж╛ржпрж╝ ржлрж┐рж░рзЗ ржпрж╛ржУржпрж╝рж╛
    function showMainPage() {
      subjectPage.style.display = 'none';
      mainPage.style.display = 'block';
      currentSubject = null;
    }

    // рж╕рж╛ржмржЬрзЗржХрзНржЯ ржбрзЗржЯрж╛ рж▓рзЛржб ржХрж░рж╛
    async function loadSubjectData(subject) {
      const grid = $('#classGrid');
      const searchInput = $('#search');
      const sortSelect = $('#sort');
      
      grid.innerHTML = '<div class="card"><div class="subject">рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</div></div>';
      
      let rows = (await fetchData()).map(normalizeRow);
      
      if(subject){
        rows = rows.filter(r => String(r.subject).trim() === subject);
      }
      
      rows = sortByTime(rows, 'desc');
      renderCards(rows, grid);

      // рж╕рж╛рж░рзНржЪ ржлрж╛ржВрж╢ржирж╛рж▓рж┐ржЯрж┐
      searchInput.addEventListener('input', ()=>{
        const q = searchInput.value.toLowerCase();
        const filtered = rows.filter(r =>
          (r.subject||'').toLowerCase().includes(q) || (r.time||'').toLowerCase().includes(q)
        );
        renderCards(filtered, grid);
      });

      // рж╕рж░рзНржЯ ржлрж╛ржВрж╢ржирж╛рж▓рж┐ржЯрж┐
      sortSelect.addEventListener('change', ()=>{
        const order = sortSelect.value;
        const sorted = sortByTime(rows, order);
        renderCards(sorted, grid);
      });
    }

    // ржЗржнрзЗржирзНржЯ рж▓рж┐рж╕рзЗржирж╛рж░ рж╕рзЗржЯржЖржк
    function setupEventListeners() {
      // рж╕рж╛ржмржЬрзЗржХрзНржЯ рж▓рж┐ржЩрзНржХ ржХрзНрж▓рж┐ржХ
      $all('.subject-link').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const subject = link.getAttribute('data-name');
          showSubjectPage(subject);
        });
      });
      
      // ржмрзНржпрж╛ржХ ржмрж╛ржЯржи
      $('.back-button').addEventListener('click', (e) => {
        e.preventDefault();
        showMainPage();
      });
      
      // ржорзЗржЗржи ржкрзЗржЬ рж╕рж╛рж░рзНржЪ
      const searchInput = $('#search-subjects');
      if(searchInput) {
        searchInput.addEventListener('input', ()=>{
          const q = searchInput.value.trim().toLowerCase();
          $all('.pill').forEach(p=>{
            const name = p.dataset.name.toLowerCase();
            p.style.display = name.includes(q) ? '' : 'none';
          });
        });
      }
    }

    // ржкрзЗржЬ рж▓рзЛржб рж╣рж▓рзЗ ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬрзЗрж╢ржи
    document.addEventListener('DOMContentLoaded', ()=>{
      setupEventListeners();
      
      // URL ржЪрзЗржХ ржХрж░рзЗ рж╕рж░рж╛рж╕рж░рж┐ рж╕рж╛ржмржЬрзЗржХрзНржЯ ржкрзЗржЬрзЗ ржпрж╛ржУржпрж╝рж╛рж░ ржЬржирзНржп
      const urlParams = new URLSearchParams(window.location.search);
      const subjectParam = urlParams.get('subject');
      if (subjectParam) {
        showSubjectPage(subjectParam);
      }
    });
  </script>
</body>
</html>
